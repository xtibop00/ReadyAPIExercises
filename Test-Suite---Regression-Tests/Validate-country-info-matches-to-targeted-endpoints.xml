<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="c12a9fc6-5c54-484f-b85f-2c7a0851b9ce" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="Validate country info matches to targeted endpoints" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="c12a9fc6-5c54-484f-b85f-2c7a0851b9cefileName">Validate-country-info-matches-to-targeted-endpoints</con:setting></con:settings><con:savedRecentRuns>1</con:savedRecentRuns><con:testStep type="request" name="Get all countries by code" id="adf5196e-66eb-41c0-9ecc-97af257251b6"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>CountryInfoServiceSoapBinding</con:interface><con:operation>ListOfCountryNamesByCode</con:operation><con:request name="Get all countries by code" id="b60f995b-e484-4b2f-b8b3-ff222c7832ed"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://webservices.oorsprong.org/websamples.countryinfo/CountryInfoService.wso</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://www.oorsprong.org/websamples.countryinfo">
   <soapenv:Header/>
   <soapenv:Body>
      <web:ListOfCountryNamesByCode/>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" id="b568468c-1468-4d5f-aebe-a4f1835267aa"/><con:credentials><con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="Extract country code" id="498832a8-ecd1-437e-b561-0dee594c0bce"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )
def holder = groovyUtils.getXmlHolder("Get all countries by code#response")

doc = new XmlSlurper().parseText(holder.xml.toString())

def countries = doc.Body.ListOfCountryNamesByCodeResponse.ListOfCountryNamesByCodeResult.tCountryCodeAndName

for(country in countries){
            testRunner.testCase.setPropertyValue("sISOCode",country.sISOCode.toString())
            testRunner.testCase.setPropertyValue("sName",country.sName.toString())
            testRunner.runTestStepByName("Get full country info")
            testRunner.runTestStepByName("Property Transfer")
            testRunner.runTestStepByName("CountryDetails 2")
            testRunner.runTestStepByName("Check country currency")
            testRunner.runTestStepByName("Check country flag")
            testRunner.runTestStepByName("Check country int phone code")
            testRunner.runTestStepByName("Check country name")
            testRunner.runTestStepByName("Check capital city")
}
</script></con:config></con:testStep><con:testStep type="request" name="Get full country info" id="c2e7dd90-ba1c-49ee-866c-e30727addc00" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>CountryInfoServiceSoapBinding</con:interface><con:operation>FullCountryInfo</con:operation><con:request name="Get full country info" id="b8113afb-23a7-4518-98c5-231244157351"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://webservices.oorsprong.org/websamples.countryinfo/CountryInfoService.wso</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://www.oorsprong.org/websamples.countryinfo">
   <soapenv:Header/>
   <soapenv:Body>
      <web:FullCountryInfo>
         <web:sCountryISOCode>${#TestCase#sISOCode}</web:sCountryISOCode>
      </web:FullCountryInfo>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" id="44f3e190-1388-4eee-98a2-b56a497c4de5"/><con:credentials><con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="bcb44fd7-e336-432c-97ba-a481dd2644a2" disabled="true"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>sISOCode</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Get full country info</con:sourceStep><con:sourcePath>declare namespace m='http://www.oorsprong.org/websamples.countryinfo';
//m:FullCountryInfoResponse[1]/m:FullCountryInfoResult[1]/m:sISOCode[1]</con:sourcePath><con:targetType>sISOCode</con:targetType><con:targetStep>CountryDetails 2</con:targetStep><con:targetPath/><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>sName</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Get full country info</con:sourceStep><con:sourcePath>declare namespace m='http://www.oorsprong.org/websamples.countryinfo';
//m:FullCountryInfoResponse[1]/m:FullCountryInfoResult[1]/m:sName[1]</con:sourcePath><con:targetType>sName</con:targetType><con:targetStep>CountryDetails 2</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>sCapitalCity</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Get full country info</con:sourceStep><con:sourcePath>declare namespace m='http://www.oorsprong.org/websamples.countryinfo';
//m:FullCountryInfoResponse[1]/m:FullCountryInfoResult[1]/m:sCapitalCity[1]</con:sourcePath><con:targetType>sCapitalCity</con:targetType><con:targetStep>CountryDetails 2</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>sPhoneCode</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Get full country info</con:sourceStep><con:sourcePath>declare namespace m='http://www.oorsprong.org/websamples.countryinfo';
//m:FullCountryInfoResponse[1]/m:FullCountryInfoResult[1]/m:sPhoneCode[1]</con:sourcePath><con:targetType>sPhoneCode</con:targetType><con:targetStep>CountryDetails 2</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>sContinentCode</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Get full country info</con:sourceStep><con:sourcePath>declare namespace m='http://www.oorsprong.org/websamples.countryinfo';
//m:FullCountryInfoResponse[1]/m:FullCountryInfoResult[1]/m:sContinentCode[1]</con:sourcePath><con:targetType>sContinentCode</con:targetType><con:targetStep>CountryDetails 2</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>sCurrencyISOCode</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Get full country info</con:sourceStep><con:sourcePath>declare namespace m='http://www.oorsprong.org/websamples.countryinfo';
//m:FullCountryInfoResponse[1]/m:FullCountryInfoResult[1]/m:sCurrencyISOCode[1]</con:sourcePath><con:targetType>sCurrencyISOCode</con:targetType><con:targetStep>CountryDetails 2</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>sCountryFlag</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Get full country info</con:sourceStep><con:sourcePath>declare namespace m='http://www.oorsprong.org/websamples.countryinfo';
//m:FullCountryInfoResponse[1]/m:FullCountryInfoResult[1]/m:sCountryFlag[1]</con:sourcePath><con:targetType>sCountryFlag</con:targetType><con:targetStep>CountryDetails 2</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="properties" name="CountryDetails 2" id="d550ea91-3a00-401a-923e-264918b6aad9" disabled="true"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>sISOCode</con:name><con:value>BY</con:value></con:property><con:property><con:name>sName</con:name><con:value>Belarus</con:value></con:property><con:property><con:name>sCapitalCity</con:name><con:value>Minsk</con:value></con:property><con:property><con:name>sPhoneCode</con:name><con:value>375</con:value></con:property><con:property><con:name>sContinentCode</con:name><con:value>EU</con:value></con:property><con:property><con:name>sCurrencyISOCode</con:name><con:value>BYR</con:value></con:property><con:property><con:name>sCountryFlag</con:name><con:value>http://www.oorsprong.org/WebSamples.CountryInfo/Images/Belarus.jpg</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="request" name="Check country currency" id="88ecbfdb-1ead-4dfa-b493-83ed10fc78b9" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>CountryInfoServiceSoapBinding</con:interface><con:operation>CountryCurrency</con:operation><con:request name="Check country currency" id="76b1070f-1778-49ee-bd35-a5f7bec403c8"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://webservices.oorsprong.org/websamples.countryinfo/CountryInfoService.wso</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://www.oorsprong.org/websamples.countryinfo">
   <soapenv:Header/>
   <soapenv:Body>
      <web:CountryCurrency>
         <web:sCountryISOCode>${CountryDetails 2#sISOCode}</web:sCountryISOCode>
      </web:CountryCurrency>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" id="f1a58158-8526-41cc-98a7-716f31bd9699"/><con:assertion type="XPath Match" id="951e2cfd-d39d-48d9-9839-9c9690d8c0fa" name="XPath Match"><con:configuration><path>declare namespace m='http://www.oorsprong.org/websamples.countryinfo';
//m:CountryCurrencyResponse[1]/m:CountryCurrencyResult[1]/m:sISOCode[1]</path><content>${CountryDetails 2#sCurrencyISOCode}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Check country flag" id="1de9ec97-1d9c-495f-8c84-ba1537edfb8d" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>CountryInfoServiceSoapBinding</con:interface><con:operation>CountryFlag</con:operation><con:request name="Check country flag" id="912a5730-1713-4b1a-a009-bf1604764ace"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://webservices.oorsprong.org/websamples.countryinfo/CountryInfoService.wso</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://www.oorsprong.org/websamples.countryinfo">
   <soapenv:Header/>
   <soapenv:Body>
      <web:CountryFlag>
         <web:sCountryISOCode>${CountryDetails 2#sISOCode}</web:sCountryISOCode>
      </web:CountryFlag>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" id="9ac2b4b3-d60f-43e5-a203-ad47b4fba189"/><con:assertion type="XPath Match" id="77b3ceaf-18de-4afe-be78-bd2d697468df" name="XPath Match"><con:configuration><path>declare namespace m='http://www.oorsprong.org/websamples.countryinfo';
//m:CountryFlagResponse[1]/m:CountryFlagResult[1]</path><content>${CountryDetails 2#sCountryFlag}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Check country int phone code" id="7a299c26-2c13-4a42-857c-df909fd06cfe" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>CountryInfoServiceSoapBinding</con:interface><con:operation>CountryIntPhoneCode</con:operation><con:request name="Check country int phone code" id="107d8f70-7540-4320-82fc-0d9ee0cb5006"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://webservices.oorsprong.org/websamples.countryinfo/CountryInfoService.wso</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://www.oorsprong.org/websamples.countryinfo">
   <soapenv:Header/>
   <soapenv:Body>
      <web:CountryIntPhoneCode>
         <web:sCountryISOCode>${CountryDetails 2#sISOCode}</web:sCountryISOCode>
      </web:CountryIntPhoneCode>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" id="9f758217-0e84-47f1-a280-3d8696c06d00"/><con:assertion type="XPath Match" id="97ff62d0-d30b-48fa-9d03-c6c118b2803d" name="XPath Match"><con:configuration><path>declare namespace m='http://www.oorsprong.org/websamples.countryinfo';
//m:CountryIntPhoneCodeResponse[1]/m:CountryIntPhoneCodeResult[1]</path><content>${CountryDetails 2#sPhoneCode}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Check country name" id="238adbfb-cf40-4fce-bb70-d6264836d061" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>CountryInfoServiceSoapBinding</con:interface><con:operation>CountryName</con:operation><con:request name="Check country name" id="3e8d6a53-93df-4b92-a07d-fdc5fcdfe1c1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://webservices.oorsprong.org/websamples.countryinfo/CountryInfoService.wso</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://www.oorsprong.org/websamples.countryinfo">
   <soapenv:Header/>
   <soapenv:Body>
      <web:CountryName>
         <web:sCountryISOCode>${CountryDetails 2#sISOCode}</web:sCountryISOCode>
      </web:CountryName>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" id="d9f2b499-f11f-4d39-8c74-5e1af5d1d058"/><con:assertion type="XPath Match" id="a667e9d2-484a-40b2-857a-1cd85016a3c4" name="XPath Match"><con:configuration><path>declare namespace m='http://www.oorsprong.org/websamples.countryinfo';
//m:CountryNameResponse[1]/m:CountryNameResult[1]</path><content>${CountryDetails 2#sName}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Check capital city" id="cc641546-272f-434a-997a-eb06756bd4a5" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>CountryInfoServiceSoapBinding</con:interface><con:operation>CapitalCity</con:operation><con:request name="Check capital city" id="9394b25d-5c1f-4690-a5b4-209f0bcb59d0"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://webservices.oorsprong.org/websamples.countryinfo/CountryInfoService.wso</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://www.oorsprong.org/websamples.countryinfo">
   <soapenv:Header/>
   <soapenv:Body>
      <web:CapitalCity>
         <web:sCountryISOCode>${CountryDetails 2#sISOCode}</web:sCountryISOCode>
      </web:CapitalCity>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" id="3c62688c-a060-4064-b48b-8905e65a19bb"/><con:assertion type="XPath Match" id="3a6d10db-28f7-4c4c-aef8-7bed234911de" name="XPath Match"><con:configuration><path>declare namespace m='http://www.oorsprong.org/websamples.countryinfo';
//m:CapitalCityResponse[1]/m:CapitalCityResult[1]</path><content>${CountryDetails 2#sCapitalCity}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties><con:property><con:name>sISOCode</con:name><con:value>BY</con:value></con:property><con:property><con:name>sName</con:name><con:value>Belarus</con:value></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>10ccbeea-c8d6-47ee-ab95-ad98cd217c42</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints></con:testCase>