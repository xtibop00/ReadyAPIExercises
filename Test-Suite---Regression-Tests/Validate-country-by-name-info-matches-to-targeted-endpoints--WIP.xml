<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="c34f2d61-dcfb-4d04-a582-9d46d1ae7485" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="Validate country by name info matches to targeted endpoints -WIP" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="c34f2d61-dcfb-4d04-a582-9d46d1ae7485fileName">Validate-country-by-name-info-matches-to-targeted-endpoints--WIP</con:setting></con:settings><con:savedRecentRuns>1</con:savedRecentRuns><con:testStep type="request" name="Get all countries by name" id="2f7acd9a-22e1-4c50-a208-6b5185c6e052"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>CountryInfoServiceSoapBinding</con:interface><con:operation>ListOfCountryNamesByName</con:operation><con:request name="Get all countries by name" id="06724d4d-1ec3-4f5c-ac6b-a78a1c492ac8"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://www.oorsprong.org/websamples.countryinfo">
   <soapenv:Header/>
   <soapenv:Body>
      <web:ListOfCountryNamesByName/>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" id="a44881fe-e02e-429d-a366-207fea4c5df0"/><con:assertion type="Schema Compliance" id="0fe97bd9-81e2-424c-b331-5c60ce0aafc2"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion" id="d64e6589-5cd2-4637-8119-b9c8b6a443d8"/><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="Extract country code" id="3186901b-5c12-49e9-88bb-60a244fff91a"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )
def holder = groovyUtils.getXmlHolder("Get all countries by name#response")

doc = new XmlSlurper().parseText(holder.xml.toString())

def countries = doc.Body.ListOfCountryNamesByNameResponse.ListOfCountryNamesByNameResult.tCountryCodeAndName

for(country in countries){
            testRunner.testCase.setPropertyValue("sISOCode",country.sISOCode.toString())
            testRunner.testCase.setPropertyValue("sName",country.sName.toString())
            testRunner.runTestStepByName("Get full country info")
            testRunner.runTestStepByName("Property Transfer")
            testRunner.runTestStepByName("CountryDetails 2")
            testRunner.runTestStepByName("Check country currency")
            testRunner.runTestStepByName("Check country flag")
            testRunner.runTestStepByName("Check country int phone code")
            testRunner.runTestStepByName("Check country name")
            testRunner.runTestStepByName("Check capital city")
}
</script></con:config></con:testStep><con:testStep type="request" name="Get full country info" id="1808c478-54ed-4d49-86bf-4f1d44dc74b7" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>CountryInfoServiceSoapBinding</con:interface><con:operation>FullCountryInfo</con:operation><con:request name="Get full country info" id="b8113afb-23a7-4518-98c5-231244157351"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://webservices.oorsprong.org/websamples.countryinfo/CountryInfoService.wso</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://www.oorsprong.org/websamples.countryinfo">
   <soapenv:Header/>
   <soapenv:Body>
      <web:FullCountryInfo>
         <web:sCountryISOCode>${#TestCase#sISOCode}</web:sCountryISOCode>
      </web:FullCountryInfo>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" id="44f3e190-1388-4eee-98a2-b56a497c4de5"/><con:credentials><con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="14d07980-cd74-4ab2-8c1d-94a84ffd6046" disabled="true"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>sISOCode</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Get full country info</con:sourceStep><con:sourcePath>declare namespace m='http://www.oorsprong.org/websamples.countryinfo';
//m:FullCountryInfoResponse[1]/m:FullCountryInfoResult[1]/m:sISOCode[1]</con:sourcePath><con:targetType>sISOCode</con:targetType><con:targetStep>CountryDetails 2</con:targetStep><con:targetPath/><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>sName</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Get full country info</con:sourceStep><con:sourcePath>declare namespace m='http://www.oorsprong.org/websamples.countryinfo';
//m:FullCountryInfoResponse[1]/m:FullCountryInfoResult[1]/m:sName[1]</con:sourcePath><con:targetType>sName</con:targetType><con:targetStep>CountryDetails 2</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>sCapitalCity</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Get full country info</con:sourceStep><con:sourcePath>declare namespace m='http://www.oorsprong.org/websamples.countryinfo';
//m:FullCountryInfoResponse[1]/m:FullCountryInfoResult[1]/m:sCapitalCity[1]</con:sourcePath><con:targetType>sCapitalCity</con:targetType><con:targetStep>CountryDetails 2</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>sPhoneCode</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Get full country info</con:sourceStep><con:sourcePath>declare namespace m='http://www.oorsprong.org/websamples.countryinfo';
//m:FullCountryInfoResponse[1]/m:FullCountryInfoResult[1]/m:sPhoneCode[1]</con:sourcePath><con:targetType>sPhoneCode</con:targetType><con:targetStep>CountryDetails 2</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>sContinentCode</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Get full country info</con:sourceStep><con:sourcePath>declare namespace m='http://www.oorsprong.org/websamples.countryinfo';
//m:FullCountryInfoResponse[1]/m:FullCountryInfoResult[1]/m:sContinentCode[1]</con:sourcePath><con:targetType>sContinentCode</con:targetType><con:targetStep>CountryDetails 2</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>sCurrencyISOCode</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Get full country info</con:sourceStep><con:sourcePath>declare namespace m='http://www.oorsprong.org/websamples.countryinfo';
//m:FullCountryInfoResponse[1]/m:FullCountryInfoResult[1]/m:sCurrencyISOCode[1]</con:sourcePath><con:targetType>sCurrencyISOCode</con:targetType><con:targetStep>CountryDetails 2</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>sCountryFlag</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Get full country info</con:sourceStep><con:sourcePath>declare namespace m='http://www.oorsprong.org/websamples.countryinfo';
//m:FullCountryInfoResponse[1]/m:FullCountryInfoResult[1]/m:sCountryFlag[1]</con:sourcePath><con:targetType>sCountryFlag</con:targetType><con:targetStep>CountryDetails 2</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="properties" name="CountryDetails 2" id="25648060-c839-4a70-8d5e-cdbdb5018ab8" disabled="true"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>sISOCode</con:name><con:value>AG</con:value></con:property><con:property><con:name>sName</con:name><con:value>Antigua &amp; Barbuda</con:value></con:property><con:property><con:name>sCapitalCity</con:name><con:value>St. John's</con:value></con:property><con:property><con:name>sPhoneCode</con:name><con:value>1</con:value></con:property><con:property><con:name>sContinentCode</con:name><con:value>AM</con:value></con:property><con:property><con:name>sCurrencyISOCode</con:name><con:value>XCD</con:value></con:property><con:property><con:name>sCountryFlag</con:name><con:value>http://www.oorsprong.org/WebSamples.CountryInfo/Images/Antigua.jpg</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="request" name="Check country currency" id="8189b20d-e49d-49c1-9413-22920ba352fa" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>CountryInfoServiceSoapBinding</con:interface><con:operation>CountryCurrency</con:operation><con:request name="Check country currency" id="76b1070f-1778-49ee-bd35-a5f7bec403c8"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://webservices.oorsprong.org/websamples.countryinfo/CountryInfoService.wso</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://www.oorsprong.org/websamples.countryinfo">
   <soapenv:Header/>
   <soapenv:Body>
      <web:CountryCurrency>
         <web:sCountryISOCode>${CountryDetails 2#sISOCode}</web:sCountryISOCode>
      </web:CountryCurrency>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" id="f1a58158-8526-41cc-98a7-716f31bd9699"/><con:credentials><con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Check country flag" id="b2808a9c-68cc-48be-afe4-913025c0e829" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>CountryInfoServiceSoapBinding</con:interface><con:operation>CountryFlag</con:operation><con:request name="Check country flag" id="912a5730-1713-4b1a-a009-bf1604764ace"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://webservices.oorsprong.org/websamples.countryinfo/CountryInfoService.wso</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://www.oorsprong.org/websamples.countryinfo">
   <soapenv:Header/>
   <soapenv:Body>
      <web:CountryFlag>
         <web:sCountryISOCode>${CountryDetails 2#sISOCode}</web:sCountryISOCode>
      </web:CountryFlag>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" id="9ac2b4b3-d60f-43e5-a203-ad47b4fba189"/><con:credentials><con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Check country int phone code" id="2e728fc8-3691-4663-8cd0-b964a0b052da" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>CountryInfoServiceSoapBinding</con:interface><con:operation>CountryIntPhoneCode</con:operation><con:request name="Check country int phone code" id="107d8f70-7540-4320-82fc-0d9ee0cb5006"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://webservices.oorsprong.org/websamples.countryinfo/CountryInfoService.wso</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://www.oorsprong.org/websamples.countryinfo">
   <soapenv:Header/>
   <soapenv:Body>
      <web:CountryIntPhoneCode>
         <web:sCountryISOCode>${CountryDetails 2#sISOCode}</web:sCountryISOCode>
      </web:CountryIntPhoneCode>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" id="9f758217-0e84-47f1-a280-3d8696c06d00"/><con:credentials><con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Check country name" id="46f07897-faf7-4c39-a9ed-97fa4ae6b7cb" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>CountryInfoServiceSoapBinding</con:interface><con:operation>CountryName</con:operation><con:request name="Check country name" id="3e8d6a53-93df-4b92-a07d-fdc5fcdfe1c1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://webservices.oorsprong.org/websamples.countryinfo/CountryInfoService.wso</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://www.oorsprong.org/websamples.countryinfo">
   <soapenv:Header/>
   <soapenv:Body>
      <web:CountryName>
         <web:sCountryISOCode>${CountryDetails 2#sISOCode}</web:sCountryISOCode>
      </web:CountryName>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" id="d9f2b499-f11f-4d39-8c74-5e1af5d1d058"/><con:credentials><con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Check capital city" id="f077a5f2-a972-4d5e-b53a-344831e6275a" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>CountryInfoServiceSoapBinding</con:interface><con:operation>CapitalCity</con:operation><con:request name="Check capital city" id="9394b25d-5c1f-4690-a5b4-209f0bcb59d0"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://webservices.oorsprong.org/websamples.countryinfo/CountryInfoService.wso</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://www.oorsprong.org/websamples.countryinfo">
   <soapenv:Header/>
   <soapenv:Body>
      <web:CapitalCity>
         <web:sCountryISOCode>${CountryDetails 2#sISOCode}</web:sCountryISOCode>
      </web:CapitalCity>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" id="3c62688c-a060-4064-b48b-8905e65a19bb"/><con:credentials><con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties><con:property><con:name>sISOCode</con:name><con:value>ZW</con:value></con:property><con:property><con:name>sName</con:name><con:value>Zimbabwe</con:value></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>10ccbeea-c8d6-47ee-ab95-ad98cd217c42</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>0a1ddb36-0177-4247-b575-00954c076f81</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints></con:testCase>